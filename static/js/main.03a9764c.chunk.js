(this["webpackJsonpmovies-challenge"]=this["webpackJsonpmovies-challenge"]||[]).push([[0],{56:function(e,t,c){},61:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(17),s=c.n(r),i=(c(56),c(57),c(87)),j=c(18),o=c(33),l=c(44),d=c(25),b=c(7),O=(c(61),c(9)),h=c(86),u=c(49),x=c(89),p=c(91),m=c(90),f=c(27),E=c.n(f),v=c(45),g="ee412a3a",T=Object(v.debounce)((function(e,t,c){E.a.get("https://www.omdbapi.com/",{params:{type:"movie",s:t,apiKey:g,page:e}}).then((function(t){var n=t.data;n.Error||(c({type:"GET_MOVIES",payload:n.Search}),c({type:"UPDATE_PAGE_INDEX",payload:e}))}))}),200),y=function(e){return function(t){E.a.get("https://www.omdbapi.com/",{params:{type:"movie",apiKey:g,i:e}}).then((function(e){var c=e.data;t({type:"GET_DETAIL_MOVIE",payload:c}),t({type:"SHOW_DETAIL_MODAL"})}))}},M=c(88),_=c(1),A=Object(j.b)((function(e){return{detail:e.detail,appState:e}}))((function(e){var t=e.detail,c=t.Title,n=t.Plot,a=t.Poster,r=t.Actors,s=t.Runtime,i=t.Writer,o=t.Released,l=t.Production,d=t.Rated,b=t.Metascore,O=e.appState.isModalShow,x=Object(j.c)(),f=function(){x({type:"CLOSE_DETAIL_MODAL"}),x({type:"CLEAR_DETAIL_PAGE"})};return Object(_.jsxs)(M.a,{show:O,onHide:f,backdrop:"static",keyboard:!1,children:[Object(_.jsx)(M.a.Header,{closeButton:!0,children:Object(_.jsx)(M.a.Title,{children:c})}),Object(_.jsx)(M.a.Body,{children:Object(_.jsxs)(h.a,{children:[Object(_.jsx)(u.a,{xs:{span:12},md:{span:6},children:Object(_.jsx)(m.a.Img,{src:a})}),Object(_.jsxs)(u.a,{xs:{span:12},md:{span:6},children:[Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Plot:"})," ",n]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Writers:"})," ",i]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Actors: "}),r]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Duration: "}),s]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Release: "}),o]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Producer: "}),l]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Rated: "}),d]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Metascore: "}),b]})})]})]})}),Object(_.jsx)(M.a.Footer,{children:Object(_.jsx)(p.a,{variant:"primary",onClick:f,children:"Ok"})})]})})),S=Object(j.b)((function(e){return{appState:e}}),(function(e){return{getMovies:function(){return e((function(e,t){var c=t().searchTerm;E.a.get("https://www.omdbapi.com/",{params:{type:"movie",s:c,apiKey:g,page:1}}).then((function(t){var c=t.data;e({type:"GET_MOVIES",payload:c.Search})}))}))},loadMoreMovies:function(){return e((function(e,t){var c=t(),n=c.page,a=c.searchTerm;T(n+1,a,e)}))},updateSearchTerm:function(t){return e(function(e){return function(t){t({type:"UPDATE_SEARCH_TERM",payload:e})}}(t))},clearMoviesList:function(){return e({type:"CLEAR_MOVIES_LIST"})},getDetailMovie:function(t){return e(y(t))}}}))((function(e){var t=Object(n.useState)(""),c=Object(O.a)(t,2),a=c[0],r=c[1];Object(n.useEffect)((function(){return window.addEventListener("scroll",(function(t){window.innerHeight+window.scrollY>=t.target.body.offsetHeight-10&&e.loadMoreMovies()})),function(){return window.removeEventListener("scroll",onscroll)}}),[]);var s=function(e){return e.target.src="https://cdn.tgdd.vn/hoi-dap/580732/cach-khac-phuc-loi-404-not-found-3-1-800x300.jpg"};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"mt-4 mb-4",children:[Object(_.jsx)(h.a,{children:Object(_.jsx)(u.a,{className:"d-flex justify-content-center align-items-center",children:Object(_.jsx)("h2",{children:"NETFLIX"})})}),Object(_.jsxs)(h.a,{children:[Object(_.jsx)(u.a,{sm:{span:5,offset:3},children:Object(_.jsx)(x.a.Control,{className:"mb-3",placeholder:"Type to search",value:a,onChange:function(e){r(e.target.value)}})}),Object(_.jsx)(u.a,{xs:{span:4,offset:5},sm:{span:1,offset:0},children:Object(_.jsx)(p.a,{variant:"primary",onClick:function(){e.updateSearchTerm(a),e.clearMoviesList(),e.getMovies(a)},children:"Search"})})]})]}),Object(_.jsx)(h.a,{className:"gx-4 gy-4",children:e.appState.movies.map((function(t){return Object(_.jsx)(u.a,{sm:12,md:6,lg:4,style:{cursor:"pointer"},children:Object(_.jsxs)(m.a,{onClick:function(){return c=t.imdbID,void e.getDetailMovie(c);var c},children:[Object(_.jsx)(m.a.Img,{variant:"top",src:t.Poster,onError:s}),Object(_.jsx)(m.a.Title,{className:"p-2",children:(c=t.Title,c.length>15?"".concat(c.slice(0,20)," ..."):c)})]},t.imdbID)});var c}))}),Object(_.jsx)(A,{})]})})),D=Object(j.b)((function(e){return{detail:e.detail}}),(function(e){return{getDetailMovie:function(t){return e(y(t))},clearDetailState:function(){return e({type:"CLEAR_DETAIL_PAGE"})}}}))((function(e){var t=Object(b.f)(),c=Object(b.g)().id;Object(n.useEffect)((function(){e.getDetailMovie(c)}),[c]);var a=e.detail,r=a.Title,s=a.Plot,i=a.Poster,j=a.Actors,o=a.Runtime,l=a.Writer,d=a.Released,O=a.Production,x=a.Rated,f=a.Metascore;return Object(_.jsxs)(m.a,{className:"mt-3 mb-3",children:[Object(_.jsx)(m.a.Header,{as:"h2",children:r}),Object(_.jsx)(m.a.Body,{children:Object(_.jsxs)(h.a,{children:[Object(_.jsx)(u.a,{xs:{span:12},md:{span:6},children:Object(_.jsx)(m.a.Img,{src:i})}),Object(_.jsxs)(u.a,{xs:{span:12},md:{span:6},children:[Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Plot:"})," ",s]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Writers:"})," ",l]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Actors: "}),j]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Duration: "}),o]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Release: "}),d]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Producer: "}),O]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Rated: "}),x]})}),Object(_.jsx)(h.a,{children:Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:"Metascore: "}),f]})})]})]})}),Object(_.jsx)(m.a.Footer,{children:Object(_.jsx)(p.a,{variant:"danger",onClick:function(){e.clearDetailState(),t.push("/list")},children:"Back to movies list"})})]})})),I=c(23),L=c(2),w={movies:[],searchTerm:"",page:1,detail:{},isModalShow:!1},P=Object(o.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAKE_GET_MOVIES":return Object(L.a)(Object(L.a)({},e),{},{movies:["just a joke"]});case"GET_MOVIES":return Object(L.a)(Object(L.a)({},e),{},{movies:[].concat(Object(I.a)(e.movies),Object(I.a)(t.payload))});case"UPDATE_SEARCH_TERM":return Object(L.a)(Object(L.a)({},e),{},{searchTerm:t.payload});case"UPDATE_PAGE_INDEX":return Object(L.a)(Object(L.a)({},e),{},{page:t.payload});case"CLEAR_MOVIES_LIST":return Object(L.a)(Object(L.a)({},e),{},{movies:[]});case"GET_DETAIL_MOVIE":return Object(L.a)(Object(L.a)({},e),{},{detail:t.payload});case"CLEAR_DETAIL_PAGE":return Object(L.a)(Object(L.a)({},e),{},{detail:{}});case"SHOW_DETAIL_MODAL":return Object(L.a)(Object(L.a)({},e),{},{isModalShow:!0});case"CLOSE_DETAIL_MODAL":return Object(L.a)(Object(L.a)({},e),{},{isModalShow:!1});default:return e}}),Object(o.a)(l.a));var R=function(){return Object(_.jsx)(j.a,{store:P,children:Object(_.jsx)(i.a,{children:Object(_.jsx)(d.a,{children:Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(b.c,{children:[Object(_.jsx)(b.a,{path:"/list",children:Object(_.jsx)(S,{})}),Object(_.jsx)(b.a,{path:"/detail/:id",children:Object(_.jsx)(D,{})})]})})})})})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,92)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(R,{})}),document.getElementById("root")),C()}},[[84,1,2]]]);
//# sourceMappingURL=main.03a9764c.chunk.js.map