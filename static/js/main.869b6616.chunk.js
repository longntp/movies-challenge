(this["webpackJsonpmovies-challenge"]=this["webpackJsonpmovies-challenge"]||[]).push([[0],{50:function(e,t,c){},55:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(21),s=c.n(r),i=(c(50),c(51),c(80)),j=c(16),o=c(30),l=c(42),d=c(18),b=c(7),h=(c(55),c(15)),O=c(79),u=c(45),p=c(81),x=c(83),f=c(82),m=c(24),v=c.n(m),E=c(43),g="ee412a3a",y=Object(E.debounce)((function(e,t,c){v.a.get("http://www.omdbapi.com/",{params:{type:"movie",s:t,apiKey:g,page:e}}).then((function(t){var n=t.data;n.Error||(c({type:"GET_MOVIES",payload:n.Search}),c({type:"UPDATE_PAGE_INDEX",payload:e}))}))}),200),T=c(1),_=Object(j.b)((function(e){return{appState:e}}),(function(e){return{getMovies:function(){return e((function(e,t){var c=t().searchTerm;v.a.get("http://www.omdbapi.com/",{params:{type:"movie",s:c,apiKey:g,page:1}}).then((function(t){var c=t.data;e({type:"GET_MOVIES",payload:c.Search})}))}))},loadMoreMovies:function(){return e((function(e,t){var c=t(),n=c.page,a=c.searchTerm;y(n+1,a,e)}))},updateSearchTerm:function(t){return e(function(e){return function(t){t({type:"UPDATE_SEARCH_TERM",payload:e})}}(t))},clearMoviesList:function(){return e({type:"CLEAR_MOVIES_LIST"})}}}))((function(e){var t=Object(b.f)(),c=Object(n.useState)(""),a=Object(h.a)(c,2),r=a[0],s=a[1];Object(n.useEffect)((function(){return window.addEventListener("scroll",(function(t){window.innerHeight+window.scrollY>=t.target.body.offsetHeight-10&&e.loadMoreMovies()})),function(){return window.removeEventListener("scroll",onscroll)}}),[]);var i=function(e){return e.target.src="https://cdn.tgdd.vn/hoi-dap/580732/cach-khac-phuc-loi-404-not-found-3-1-800x300.jpg"};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"mt-4 mb-4",children:[Object(T.jsx)(O.a,{children:Object(T.jsx)(u.a,{className:"d-flex justify-content-center align-items-center",children:Object(T.jsx)("h2",{children:"NETFLIX"})})}),Object(T.jsxs)(O.a,{children:[Object(T.jsx)(u.a,{sm:{span:5,offset:3},children:Object(T.jsx)(p.a.Control,{className:"mb-3",placeholder:"Type to search",value:r,onChange:function(e){s(e.target.value)}})}),Object(T.jsx)(u.a,{xs:{span:4,offset:5},sm:{span:1,offset:0},children:Object(T.jsx)(x.a,{variant:"primary",onClick:function(){e.updateSearchTerm(r),e.clearMoviesList(),e.getMovies(r)},children:"Search"})})]})]}),Object(T.jsx)(O.a,{className:"gx-4 gy-4",children:e.appState.movies.map((function(e){return Object(T.jsx)(u.a,{sm:12,md:6,lg:4,style:{cursor:"pointer"},children:Object(T.jsxs)(f.a,{onClick:function(){return c=e.imdbID,void t.push("/".concat(c));var c},children:[Object(T.jsx)(f.a.Img,{variant:"top",src:e.Poster,onError:i}),Object(T.jsx)(f.a.Title,{className:"p-2",children:(c=e.Title,c.length>15?"".concat(c.slice(0,20)," ..."):c)})]},e.imdbID)});var c}))})]})})),I=Object(j.b)((function(e){return{detail:e.detail}}),(function(e){return{getDetailMovie:function(t){return e(function(e){return function(t){v.a.get("http://www.omdbapi.com/",{params:{type:"movie",apiKey:g,i:e}}).then((function(e){var c=e.data;t({type:"GET_DETAIL_MOVIE",payload:c})}))}}(t))},clearDetailState:function(){return e({type:"CLEAR_DETAIL_PAGE"})}}}))((function(e){var t=Object(b.f)(),c=Object(b.g)().id;Object(n.useEffect)((function(){e.getDetailMovie(c)}),[c]);var a=e.detail,r=a.Title,s=a.Plot,i=a.Poster,j=a.Actors,o=a.Runtime,l=a.Writer,d=a.Released,h=a.Production,p=a.Rated,m=a.Metascore;return Object(T.jsxs)(f.a,{className:"mt-3 mb-3",children:[Object(T.jsx)(f.a.Header,{as:"h2",children:r}),Object(T.jsx)(f.a.Body,{children:Object(T.jsxs)(O.a,{children:[Object(T.jsx)(u.a,{xs:{span:12},md:{span:6},children:Object(T.jsx)(f.a.Img,{src:i})}),Object(T.jsxs)(u.a,{xs:{span:12},md:{span:6},children:[Object(T.jsx)(O.a,{children:Object(T.jsxs)("p",{children:[Object(T.jsx)("b",{children:"Plot:"})," ",s]})}),Object(T.jsx)(O.a,{children:Object(T.jsxs)("p",{children:[Object(T.jsx)("b",{children:"Writers:"})," ",l]})}),Object(T.jsx)(O.a,{children:Object(T.jsxs)("p",{children:[Object(T.jsx)("b",{children:"Actors: "}),j]})}),Object(T.jsx)(O.a,{children:Object(T.jsxs)("p",{children:[Object(T.jsx)("b",{children:"Duration: "}),o]})}),Object(T.jsx)(O.a,{children:Object(T.jsxs)("p",{children:[Object(T.jsx)("b",{children:"Release: "}),d]})}),Object(T.jsx)(O.a,{children:Object(T.jsxs)("p",{children:[Object(T.jsx)("b",{children:"Producer: "}),h]})}),Object(T.jsx)(O.a,{children:Object(T.jsxs)("p",{children:[Object(T.jsx)("b",{children:"Rated: "}),p]})}),Object(T.jsx)(O.a,{children:Object(T.jsxs)("p",{children:[Object(T.jsx)("b",{children:"Metascore: "}),m]})})]})]})}),Object(T.jsx)(f.a.Footer,{children:Object(T.jsx)(x.a,{variant:"danger",onClick:function(){e.clearDetailState(),t.push("/")},children:"Back to movies list"})})]})})),M=c(29),S=c(2),A={movies:[],searchTerm:"",page:1,detail:{}},w=Object(o.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAKE_GET_MOVIES":return Object(S.a)(Object(S.a)({},e),{},{movies:["just a joke"]});case"GET_MOVIES":return Object(S.a)(Object(S.a)({},e),{},{movies:[].concat(Object(M.a)(e.movies),Object(M.a)(t.payload))});case"UPDATE_SEARCH_TERM":return Object(S.a)(Object(S.a)({},e),{},{searchTerm:t.payload});case"UPDATE_PAGE_INDEX":return Object(S.a)(Object(S.a)({},e),{},{page:t.payload});case"CLEAR_MOVIES_LIST":return Object(S.a)(Object(S.a)({},e),{},{movies:[]});case"GET_DETAIL_MOVIE":return Object(S.a)(Object(S.a)({},e),{},{detail:t.payload});case"CLEAR_DETAIL_PAGE":return Object(S.a)(Object(S.a)({},e),{},{detail:{}});default:return e}}),Object(o.a)(l.a));var D=function(){return Object(T.jsx)(j.a,{store:w,children:Object(T.jsx)(i.a,{children:Object(T.jsx)(d.a,{children:Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(b.c,{children:[Object(T.jsx)(b.a,{path:"/:id",children:Object(T.jsx)(I,{})}),Object(T.jsx)(b.a,{path:"/",children:Object(T.jsx)(_,{})})]})})})})})},L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,84)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(D,{})}),document.getElementById("root")),L()}},[[78,1,2]]]);
//# sourceMappingURL=main.869b6616.chunk.js.map